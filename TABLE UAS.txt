DATABASE UAS

CREATE TABLE Users (
  UserID INT PRIMARY KEY AUTO_INCREMENT,
  Username VARCHAR(255) NOT NULL UNIQUE,
  Password VARCHAR(255) NOT NULL,
  Bio TEXT,
  AvatarURL VARCHAR(255),
  AvatarName VARCHAR(255),
  Email VARCHAR(255) UNIQUE,
  UserRole VARCHAR(255),
  UNIQUE (Username(32)) -- Additional unique constraint on first 32 characters of username for faster searches
);

CREATE TABLE Games (
  GameID INT PRIMARY KEY AUTO_INCREMENT,
  GameName VARCHAR(255) NOT NULL UNIQUE,
  LogoURL VARCHAR(255),
  GameDescription TEXT
);

CREATE TABLE Posts (
  PostID INT PRIMARY KEY AUTO_INCREMENT,
  PostTitle VARCHAR(255) NOT NULL,
  PostImage VARCHAR(255),
  PostCaption TEXT,
  PostType VARCHAR(255),
  PostDate DATETIME DEFAULT CURRENT_TIMESTAMP,
  UserID INT NOT NULL,
  GameID INT NOT NULL,
  FOREIGN KEY (UserID) REFERENCES Users(UserID),
  FOREIGN KEY (GameID) REFERENCES Games(GameID)
);

CREATE TABLE Follows (
  FollowsID INT PRIMARY KEY AUTO_INCREMENT,
  FollowerID INT NOT NULL,
  FollowingID INT NOT NULL,
  FollowDate DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (FollowerID) REFERENCES Users(UserID),
  FOREIGN KEY (FollowingID) REFERENCES Users(UserID)
);

CREATE TABLE Favorites (
  FavoritesID INT PRIMARY KEY AUTO_INCREMENT,
  FavoriteDate DATETIME DEFAULT CURRENT_TIMESTAMP,
  UserID INT NOT NULL,
  PostID INT NOT NULL,
  FOREIGN KEY (UserID) REFERENCES Users(UserID),
  FOREIGN KEY (PostID) REFERENCES Posts(PostID)
);

CREATE TABLE Likes (
  LikesID INT PRIMARY KEY AUTO_INCREMENT,
  LikeDate DATETIME DEFAULT CURRENT_TIMESTAMP,
  UserID INT NOT NULL,
  PostID INT NOT NULL,
  FOREIGN KEY (UserID) REFERENCES Users(UserID),
  FOREIGN KEY (PostID) REFERENCES Posts(PostID)
);

CREATE TABLE Comments (
  CommentID INT PRIMARY KEY AUTO_INCREMENT,
  CommentContent TEXT NOT NULL,
  CommentDate DATETIME DEFAULT CURRENT_TIMESTAMP,
  UserID INT NOT NULL,
  PostID INT NOT NULL,
  FOREIGN KEY (UserID) REFERENCES Users(UserID),
  FOREIGN KEY (PostID) REFERENCES Posts(PostID)
);